# CLAUDE.md

このファイルは、Claude Code（[claude.ai/code](https://claude.ai/code)）がこのリポジトリ内のコードを扱う際のガイドとして機能します。

## プロジェクト概要

これは、テキストによる説明を対応する絵文字に変換するシンプルな絵文字検索 Web アプリケーションです。
ユーザーは「悲しい」「お祝い」「眠い」といった日本語の説明語を入力し、該当する絵文字が返ってきます。

## 技術スタック

- **フロントエンド**：純粋な HTML/CSS/JavaScript（フレームワークなし）
- **アーキテクチャ**：クライアントサイドのみで完結、バックエンド不要
- **デプロイ方法**：どんな Web サーバーでも配信可能な静的ファイル構成

## ファイル構成

```
├── index.html      # UI構成を持つメインHTMLファイル
├── style.css       # スタイリングとレスポンシブデザイン
├── app.js          # JavaScriptのロジックと絵文字辞書
└── CLAUDE.md       # 本ドキュメントファイル
```

## 開発コマンド

### アプリケーションの実行

```bash
# ブラウザで直接開く
open index.html

# または簡易HTTPサーバーで起動
python3 -m http.server 8000
# その後 http://localhost:8000 にアクセス
```

### テスト方法

- `index.html` を Web ブラウザで開いて手動でテスト
- 単語・複数単語の組み合わせで動作確認
- 異なる画面サイズでレスポンシブデザインを確認

## アーキテクチャ詳細

### コア構成要素

1. **絵文字辞書（`app.js`）**

   - 日本語キーワードと絵文字の網羅的なマッピング
   - カテゴリー：感情、天気、動物、食べ物、自然、イベント、動作、建物、交通手段、職業、体の部位、物、時間、色、記号
   - 約 880 語以上のマッピングに対応し、未知語はフォールバック絵文字に切り替え

2. **検索ロジック**

   - スペース区切りでキーワードを処理
   - 各キーワードを絵文字に変換
   - 未知の単語には `❓🤔` を返す

3. **UI 機能**

   - Enter キーで即時検索
   - ユーザー操作時のローディングアニメーション
   - モバイル・デスクトップ両対応のレスポンシブデザイン
   - グラデーションスタイルを用いたクリーンでモダンなインターフェース

4. **コピー・シェア機能（v1.1.0 新機能）**

   - **📋 ワンクリックコピー**: Clipboard API を使用した絵文字のクリップボードコピー
   - **📤 ソーシャルシェア**: Web Share API（モバイル）+ SNS 個別シェア（PC）
   - **🎨 UI フィードバック**: 成功通知、ボタンアニメーション、一時的なテキスト変更
   - **🔄 フォールバック対応**: 古いブラウザでも基本機能が動作

### 主要関数

- `searchEmojis(inputText)`：検索ロジックの中心
- `performSearch()`：UI 更新処理とアクションボタン表示制御
- `copyToClipboard()`：Clipboard API を使った絵文字コピー機能
- `shareContent()`：Web Share API + SNS フォールバック機能
- `showNotification()`：成功通知とユーザーフィードバック表示
- ボタンクリック・キーボード入力のイベントリスナーあり

## テスト方法（更新版）

### 基本機能テスト
- `index.html` を Web ブラウザで開いて手動でテスト
- 単語・複数単語の組み合わせで動作確認
- 異なる画面サイズでレスポンシブデザインを確認

### 新機能テスト（v1.1.0）
- **コピー機能**: 絵文字検索後、コピーボタンをクリックして動作確認
- **シェア機能**: シェアボタンをクリックしてメニュー表示・各SNSリンク動作確認
- **通知システム**: コピー・シェア後の成功通知表示確認
- **モバイル対応**: スマートフォンでのWeb Share API動作確認

## 設定

- Claude Code の設定ファイル：`.claude/settings.local.json`
- 外部依存やビルドプロセスは不要
- 使用Web API: Clipboard API、Web Share API（すべてフォールバック対応あり）
